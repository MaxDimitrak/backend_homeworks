"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.postsRouter = void 0;
const express_1 = __importDefault(require("express"));
const get_many_posts_handler_1 = require("./handlers/get_many_posts.handler");
const get_post_by_id_handler_1 = require("./handlers/get_post_by_id.handler");
const auth_middleware_1 = require("../../middlewares/auth.middleware");
const create_post_handler_1 = require("./handlers/create_post.handler");
const update_post_by_id_handler_1 = require("./handlers/update_post_by_id.handler");
const delete_post_by_id_handler_1 = require("./handlers/delete_post_by_id.handler");
const post_input_dto_validation_middleware_1 = require("./validation/post_input_dto.validation.middleware");
const input_validation_result_middleware_1 = require("../../middlewares/input_validation.result.middleware");
const query_pagination_ana_sorting_validation_middleware_1 = require("../../middlewares/query-pagination-ana-sorting.validation-middleware");
const params_id_validation_middleware_1 = require("../../middlewares/params_id.validation.middleware");
exports.postsRouter = express_1.default.Router({});
exports.postsRouter.get('/', (query_pagination_ana_sorting_validation_middleware_1.paginationAnaSortingValidation), input_validation_result_middleware_1.inputValidationResult, get_many_posts_handler_1.getManyPostsHandler);
exports.postsRouter.get('/:id', params_id_validation_middleware_1.idValidation, input_validation_result_middleware_1.inputValidationResult, get_post_by_id_handler_1.getPostByIdHandler);
exports.postsRouter.post('/', auth_middleware_1.isAuthorized, post_input_dto_validation_middleware_1.postInputDtoValidation, input_validation_result_middleware_1.inputValidationResult, create_post_handler_1.createPostHandler);
exports.postsRouter.put('/:id', auth_middleware_1.isAuthorized, params_id_validation_middleware_1.idValidation, post_input_dto_validation_middleware_1.postInputDtoValidation, input_validation_result_middleware_1.inputValidationResult, update_post_by_id_handler_1.updatePostByIdHandler);
exports.postsRouter.delete('/:id', auth_middleware_1.isAuthorized, params_id_validation_middleware_1.idValidation, input_validation_result_middleware_1.inputValidationResult, delete_post_by_id_handler_1.deletePostByIdHandler);
